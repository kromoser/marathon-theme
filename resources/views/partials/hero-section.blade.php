<section class="hero-section container">
  <div class="columns">
    <div class="column is-8">
      <h1 class="hero-title">Miles to&nbsp;Go</h1>
      <p class="hero-subtitle">Running the 2019 NYC Marathon to raise money for Housing Works</p>
      <p class="stat-header">The Race</p>
      <h3 class="stat-highlight">26.2 <span class="stat-secondary">miles</span></h3>
      <p class="stat-header">The Goal</p>
      <h3 class="stat-highlight">$<span id="progress-total">100</span><span class="stat-secondary">/$2,500</span></h3>
      <p class="stat-header">The Training</p>
      <h3 class="stat-highlight"><span id="total-miles-logged">{!! HomeTemplate::sumMiles() !!}</span> <span class="stat-secondary">miles logged</span></h3>



    </div>

    <div class="column is-4">
      <div class="progress-line-container">
        @php($progress = 3250 - 1250)
        <script type="text/javascript">
          document.addEventListener('DOMContentLoaded', function() {
            const progressPath = document.querySelector('.progress-line');
            const progressPathLength = progressPath.getTotalLength();
            const progressVal = parseInt(document.querySelector('#progress-total').textContent);
            console.log(progressPathLength)
            console.log({{$progress}})
          //  progressPath.style.strokeDasharray = (progressVal/2500)*progressPathLength;
          //  progressPath.style.strokeDashOffset = (progressVal/2500)*progressPathLength;
          })
        </script>
        <svg version="1.1" id="progress-line-svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
  	 viewBox="0 0 597.3 2041.3" style="enable-background:new 0 0 597.3 2041.3;" xml:space="preserve">
  <style type="text/css">


  @keyframes draw-line {
    from {
      stroke-dashoffset: 3250 ;
    }
    to {
      stroke-dashoffset: {{$progress}};
    }
  }
  </style>
  {{-- These paths are the background map outline --}}
  <g id="dark_map_bg">
	<path class="map-bg" d="M51.4,0c0,0-1.9,34.1,0,81.1s1.1,153-0.8,175.6S48,398.4,52.5,427.5c4.5,29.1,4.5,85.4,5.5,100.5
		c0.9,15,3.3,94.8-4.5,117.3c-7.7,22.5-0.2,89.2,28.9,141.8c29.1,52.6,71.3,165.2,76,178.4s37.6,142.7,45.1,149.3s32.9,26.3,48.8,0
		s38.5-88.2,68.5-111.7c30-23.5,77.9-37.6,78.9-63.8c0.9-26.3-15-97.6-25.3-121.1c-10.3-23.5-45.1-41.3-51.6-63.8
		c-6.6-22.5-26.3-73.2-16.9-141.8s16.9-157.7,16.9-180.2s20.5-61,12.6-76c-7.9-15-44.5-38.5-34.2-69.5s4.7-26.3,5.6-59.1
		c0.9-32.9,26.3-47.9,4.7-83.6s-55.4-42.2-65.7-54.4S197.9,0,197.9,0H51.4z"/>
	<path class="map-bg" d="M670.7,124.3c0,0-45.6,18.8-40.9,26.3s33.8,34.7,29.1,42.2s-39.4,19.7-49.7,0s-26.3-32.9-34.8-32.9
		c-8.4,0-28.2-26.3-40.4-26.3s-78.9-16.9-90.1,46c-11.3,62.9-32.8,135.2-44.1,132.4c-11.3-2.8-42.3-2.8-34.8,27.2
		c7.5,30,23.5,15,27.2,26.3c3.8,11.3-10.3,36.6-17.8,58.2c-7.5,21.6-0.9,66.7-5.6,106.1c-4.7,39.4,4.7,77.9,0,110.8
		s7.5,63.8,22.5,40.4c15-23.5,29.1-37.6,78.9-32.9c49.8,4.7,29.5-3.8,47.1,12.2c17.7,16,39.2,18.8,55.2,13.1
		c16-5.6,45.1-10.3,62,5.6c16.9,16,31,33.8,31,33.8s0,14.1-12.2,4.7c-12.2-9.4-25.3-28.2-32.9-33.8c-7.5-5.6-14.1-11.3-39.4-2.8
		c-25.3,8.4-67.6-8.4-77.9-16.9c-10.3-8.4-82.5-23.5-103.2,27.2c-20.7,50.7,16.9,55.4,23.4,71.3c6.6,16,16.9,27.2,15,46.9
		c-1.9,19.7-6.6,47.9,0,70.4c6.6,22.5,21.6,53.5,27.2,68.5s10.3,41.3,0.9,49.8s-29.1,9.4-37.6,0c-8.4-9.4-27.2-9.6-46.9,9.3
		c-19.7,18.9-37.7,18.9-46.5,37.7c-8.8,18.8,6.2,38.8,4.3,82.8c-1.9,44,12.2,72.1,1.9,86.2c-10.3,14.1-50.7,77-43.2,87.3
		s34.7,39.4,55.4,43.2c20.7,3.8,51.6,2.8,63.8,0c12.2-2.8,17.8,4.7,19.7-5.6c1.9-10.3,12.2-16,9.4-25.3c-2.8-9.4-14.1-52.6-6.6-61
		s24.4-6.6,27.2-14.1c2.8-7.5,6.1-18.6,3.2-25.5s-0.6-4.1,0.4-1.7s4,12.5-0.3,22.3c-4.3,9.8-4.9,9.1-15.6,13.5
		c-10.7,4.5-13.8,3.6-15.2,8.8c-1.3,5.2,2.2,33.3,4.5,41.4s7.9,19.2,1.8,30.2c-6.1,11-3.1,17.6,1,18.6c4.2,1,20.9,4.8,20.9,4.8
		s-19.6,15.7-29.4,32.7s-34,57.6-39.3,102.1s-11.9,80.9-21.4,101.4c-9.5,20.5-44.8,120.1,21.8,200.6s88.8,90,118.8,88.5
		c30-1.6,60-28.4,82.1-19c22.1,9.5,70,12.6,70,12.6V124.3z"/>
	<path class="map-bg" d="M0,1792.6c0,0,33.6-52.1,73.1-66.4s71.1-22.1,88.5,33.2c17.4,55.3,53.7,116.9,101.1,131.1s47.5,23.7,72.7,34.8
		s90,28.4,90,50.6c0,22.1,3.2,26.9,0,42.7c-3.2,15.8-3.2,15.8-3.2,15.8H0V1792.6z"/>
	<path class="map-bg" d="M211.3,0c0,0,29.9,70.3,50.7,83.3s37,13,40.3,20.8c3.2,7.8,11,3.2,25.3,0s42.2,6.7,67.5,4.3
		s32.5-8.8,32.5-40.7s5.2-35.1,10.4-45.5C443.2,11.8,454.2,0,454.2,0H211.3z"/>
</g>
<g id="SVG">
	<path class="route-path" d="M382.2,1992.9l119.3-150.6V1783l-24.8-2.2l-32.3-147.4l44.9-271.6l12.2-127.7l-3.5-76.3l-14.8-9.6l126-96.8
		l-61.5-74.5l-64.1-24.8l-11.8-28.3l-2.2-35.7l19.2-102.5l-43.6-34.4l14.4-11.3l-37.9-48l-14-48.8l-15.7,3.9l-9.8-37.9l9.4-7.4
		l45.8-14.4v-31H281.3V111.6l19.2-35.7l-1.3-22.2l-17.9,1.7L279.5,34l-51-11.8l-13.1,11.3h-20.9V126H181v26.6h14v228.9l-19.2,8.3
		c0,0-1.7,22.7-3.5,27.9c-1.7,5.2-2.6,12.2,0,17c2.6,4.8,11.8,8.7,8.3,14.4c-3.5,5.7-8.7,14-4.4,19.2c4.4,5.2,10,15.3,7.8,24.8
		c-2.2,9.6-15.1,25.7-13.4,27.5s18.7,16.6,18.7,16.6v17.9h-60.6c0,0-1.7-15.7,3.9-33.1c5.7-17.4,7.8-26.2,7.8-27s0,0.9,0,0.9"/>
</g>
<g id="progress">
	<path class="progress-line" d="M382.2,1992.9l119.3-150.6V1783l-24.8-2.2l-32.3-147.4l44.9-271.6l12.2-127.7l-3.5-76.3l-14.8-9.6l126-96.8
		l-61.5-74.5l-64.1-24.8l-11.8-28.3l-2.2-35.7l19.2-102.5l-43.6-34.4l14.4-11.3l-37.9-48l-14-48.8l-15.7,3.9l-9.8-37.9l9.4-7.4
		l45.8-14.4v-31H281.3V111.6l19.2-35.7l-1.3-22.2l-17.9,1.7L279.5,34l-51-11.8l-13.1,11.3h-20.9V126H181v26.6h14v228.9l-19.2,8.3
		c0,0-1.7,22.7-3.5,27.9c-1.7,5.2-2.6,12.2,0,17c2.6,4.8,11.8,8.7,8.3,14.4c-3.5,5.7-8.7,14-4.4,19.2c4.4,5.2,10,15.3,7.8,24.8
		c-2.2,9.6-15.1,25.7-13.4,27.5s18.7,16.6,18.7,16.6v17.9h-60.6c0,0-1.7-15.7,3.9-33.1c5.7-17.4,7.8-26.2,7.8-27s0,0.9,0,0.9"/>
</g>


  {{-- This is the full route line --}}
{{--   <path class="route-line" d="M308.8,1992.9L428,1842.3V1783l-24.8-2.2l-32.3-147.4l44.9-271.6l12.2-127.7l-3.5-76.3l-14.8-9.6l126-96.8
    l-61.5-74.5l-64.1-24.8l-11.8-28.3l-2.2-35.7l19.2-102.5l-43.6-34.4l14.4-11.3l-37.9-48l-14-48.8l-15.7,3.9l-9.8-37.9l9.4-7.4
    l45.8-14.4v-31H207.9V111.6l19.2-35.7l-1.3-22.2l-17.9,1.7L206.1,34l-51-11.8l-13.1,11.3h-20.9V126h-13.5v26.6h14v228.9l-19.2,8.3
    c0,0-1.7,22.7-3.5,27.9c-1.7,5.2-2.6,12.2,0,17s11.8,8.7,8.3,14.4c-3.5,5.7-8.7,14-4.4,19.2c4.4,5.2,10,15.3,7.8,24.8
    c-2.2,9.6-15.1,25.7-13.4,27.5c1.7,1.7,18.7,16.6,18.7,16.6v17.9H55.3c0,0-1.7-15.7,3.9-33.1c5.7-17.4,7.8-26.2,7.8-27s0,0.9,0,0.9"
    />

  <path class="progress-line" d="M308.8,1992.9L428,1842.3V1783l-24.8-2.2l-32.3-147.4l44.9-271.6l12.2-127.7l-3.5-76.3l-14.8-9.6l126-96.8
  	l-61.5-74.5l-64.1-24.8l-11.8-28.3l-2.2-35.7l19.2-102.5l-43.6-34.4l14.4-11.3l-37.9-48l-14-48.8l-15.7,3.9l-9.8-37.9l9.4-7.4
  	l45.8-14.4v-31H207.9V111.6l19.2-35.7l-1.3-22.2l-17.9,1.7L206.1,34l-51-11.8l-13.1,11.3h-20.9V126h-13.5v26.6h14v228.9l-19.2,8.3
  	c0,0-1.7,22.7-3.5,27.9c-1.7,5.2-2.6,12.2,0,17s11.8,8.7,8.3,14.4c-3.5,5.7-8.7,14-4.4,19.2c4.4,5.2,10,15.3,7.8,24.8
  	c-2.2,9.6-15.1,25.7-13.4,27.5c1.7,1.7,18.7,16.6,18.7,16.6v17.9H55.3c0,0-1.7-15.7,3.9-33.1c5.7-17.4,7.8-26.2,7.8-27s0,0.9,0,0.9"
  	/> --}}


  </svg>
      </div>
    </div>
  </div>
</section>
